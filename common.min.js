2019949791/**
 *@模块： TOMTOP使用的命名空间为TT_NS
 *@作者： caoxl
 *@日期： 2016-06-29
 */
/////======================浏览历史滚动================================
//滚动函数
(function(c){function b(a){var b=c(this),d=b.children("ul"),g=d.children("li"),l=0,r=0,v=0,f=1,e=c.extend({_full:"off",_banner:"off",_point:"off",_pointEvent:"off",_scroll:"off",_upDown:"off",_opacity:"off",_nav:"off",_auto:"off",_leftBtnShow:"off",_height:"0.8",_height1200:580,_autoTime:"5000",_pointClass:"nav_btn",_pointActive:"active",_pointLabel:"a",_leftClass:"left-click",_rightClass:"right-click",leftClick:function(){},rightClick:function(){},callback:function(a,b,c){},textMove:function(a){}},a),k,n,m,B,C,t,p,w,z;if(1==b.find("."+e._leftClass).length)var q=b.find("."+e._leftClass),u=b.find("."+e._rightClass);else q=b.siblings("."+e._leftClass),u=b.siblings("."+e._rightClass);q.addClass("showBtn");u.addClass("showBtn");if(1<g.length){var F=function(){for(var a=navigator.userAgent,b="Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";"),c=!0,d=0;d<b.length;d++)if(0<a.indexOf(b[d])){c=!1;break}return c},J=function(){k="on"==e._upDown?b.outerHeight(!0):b.outerWidth(!0);n="on"==e._upDown?g.outerHeight(!0):g.outerWidth(!0);"on"==e._full&&(n=document.body.clientWidth,b.css({width:n}),d.children("li").css({width:n}));if("on"==e._nav){m=4;for(var a=0;a<g.length;a++)m+=g.eq(a).outerWidth(!0)}else m="on"==e._opacity?"":n*d.children("li").length;a=1200<b.outerWidth(!0)?e._height1200:b.outerWidth(!0)*e._height;""==e._height?"":b.css({height:a});"on"==e._upDown?d.css({height:m}):d.css({width:m})};if("on"==e._banner&&"off"==e._opacity){a=g.first().clone();var G=g.last().clone();d.append(a).prepend(G)}J();c(window).resize(function(){J()});l="on"==e._opacity?g.length:Math.ceil(m/k);"on"==e._banner&&"off"==e._opacity?(d.css({left:-g.eq(0).outerWidth(!0)}),r=l-2):r=l;if("on"==e._point){var x="";a=0;for(G=r;a<G;a++)x=0==a?x+("\x3c"+e._pointLabel+' class\x3d"'+e._pointActive+'"\x3e\x3c/'+e._pointLabel+"\x3e"):x+("\x3c"+e._pointLabel+"\x3e\x3c/"+e._pointLabel+"\x3e");b.append('\x3cdiv class\x3d"'+e._pointClass+'"\x3e'+x+"\x3c/div\x3e")}var H=b.find("."+e._pointClass).children(e._pointLabel);if("on"==e._scroll){0==b.children(".feed-scrollbar").length&&b.append('\x3cdiv class\x3d"feed-scrollbar"\x3e\x3cspan class\x3d"feed-scrollbar-track"\x3e\x3cspan class\x3d"feed-scrollbar-thumb"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e');var D=b.children(".feed-scrollbar").children().children();D.css("width",k/(m/k))}a={touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",initTouchEvents:function(){F()&&(this.touchstart="mousedown",this.touchmove="mousemove",this.touchend="mouseup")}};var E=function(){0==d.position().left&&"off"==e._leftBtnShow&&"on"!=e._upDown?q.removeClass("showBtn"):"on"!=e._upDown&&q.addClass("showBtn");var a="on"==e._upDown?d.position().top:d.position().left;f=Math.ceil(Math.abs(a/k))+1;H.removeClass(e._pointActive).eq(f-1).addClass(e._pointActive)},K=function(a){0<a&&(a=0);m+a<=k&&(a=-(m-k));"on"!=e._banner&&"off"==e._opacity&&(E(),e.callback(f,r,b));return a},A=function(a){if("on"==e._opacity){f>l&&(f=1);1>f&&(f=l);var c=b.find("."+e._pointClass).children("."+e._pointActive).index(),h=a?a-1:"+\x3d"==w?0>c-1?l-1:c-1:c+1>=l?0:c+1;a=g.eq(c);c=g.eq(h);a.stop(!0).fadeOut(1E3);c.stop(!0).fadeIn(1E3,function(){e.textMove(h)});e.callback(f,r,b);H.removeClass(e._pointActive).eq(f-1).addClass(e._pointActive)}else{a={};c={};0>t?(f++,f>=l-1&&(f=l-1)):0<t&&(f--,0>=f&&(f=0));if("on"==e._banner)q.addClass("showBtn"),u.addClass("showBtn"),p=-k*f,a.left=p;else{p=0;var y="on"==e._upDown?d.position().top:d.position().left;if("-\x3d"==w){var B=y%n;z=m+y-k}else B=0==-y%n?-y%n:-y%n-n,z=-y;0==z&&(z=-m+k);p=z>k?"on"==e._nav?k:k+B:z;a["on"==e._upDown?"top":"left"]=w+p;c.left=w+k/m*-p}"on"==e._scroll?D.animate(c):"";d.animate(a,function(){"on"==e._banner?(0==f&&(d.css({left:-m+2*k}),f=l-2),f==l-1&&(d.css({left:-k}),f=1)):E();e.textMove(f);e.callback(f,r,b);H.removeClass(e._pointActive).eq(f-1).addClass(e._pointActive);1==f&&"on"!=e._upDown?q.removeClass("showBtn"):(q.addClass("showBtn"),u.addClass("showBtn"))})}};a.initTouchEvents();var I=0,L=function(a){p="on"==e._upDown?a.clientY-I:a.clientX-I;p=K(p);m>k&&("on"==e._upDown?d.css({top:p}):d.css({left:p}),"on"==e._scroll?D.css({left:k/m*-p}):"");t=a.clientX-C;"off"==e._auto&&b.click(function(a){a.preventDefault()})},M=function(a){"off"==e._opacity&&(this.onmouseup=this.onmousemove=null,d.releaseCapture&&d.releaseCapture(),"on"!=e._banner||d.is(":animated")?(E(),b.find("img.lazy").lazyload({threshold:50})):A(),0==t&&b.unbind("click"))};d.bind(a.touchstart,function(a){t=0;F()?(a.preventDefault(),I="on"==e._upDown?a.clientY-d.position().top:a.clientX-d.position().left,C=a.clientX,d.setCapture?(d.onmousemove=L,d.onmouseup=M,d.setCapture()):(document.onmousemove=L,document.onmouseup=M)):(a=a.originalEvent.changedTouches[0],B=a.clientX-this.offsetLeft,disY=a.clientY-this.offsetTop,C=a.clientX)});F()||(d.bind(a.touchmove,function(a){a.preventDefault();a=a.originalEvent.targetTouches[0];p="on"==e._upDown?a.pageY-disY:a.pageX-B;t=a.pageX-C;p=K(p);m>k&&("on"==e._upDown?d.css({top:p}):d.css({left:p}),"on"==e._scroll?D.css({left:k/m*-p}):"")}),d.bind(a.touchend,function(a){"on"!=e._banner||"off"!=e._opacity||d.is(":animated")?E():A()}));if("on"==e._auto){var N=function(){t=0;clearInterval(v);v=setInterval(function(){f++;w="-\x3d";A()},e._autoTime)};N()}q.click(function(){e.leftClick();d.is(":animated")||g.is(":animated")||(f--,t=0,w="+\x3d",A())});u.click(function(){e.rightClick();d.is(":animated")||g.is(":animated")||(f++,t=0,w="-\x3d",A(),b.find("img.lazy").lazyload({threshold:1155}))});x=function(a){d.is(":animated")||g.is(":animated")||(t=0,f=a+1,A(f))};"off"==e._pointEvent?b.find("."+e._pointClass).children(e._pointLabel).click(function(){var a=c(this).index();x(a)}):b.find("."+e._pointClass).children(e._pointLabel).mouseover(function(){var a=c(this).index();x(a)});b.mouseover(function(){clearInterval(v);"on"==e._banner&&(q.addClass("showBtn"),u.addClass("showBtn"))});b.mouseout(function(){"on"==e._auto?N():"";"on"==e._banner&&(q.removeClass("showBtn"),u.removeClass("showBtn"))});m<k&&""!=m&&(b.find(".feed-scrollbar").hide(),q.removeClass("showBtn"),u.removeClass("showBtn"));0==d.position().left&&"off"==e._opacity&&"off"==e._leftBtnShow&&("on"!=e._upDown&&q.removeClass("showBtn"),u.addClass("showBtn"));e.callback(f,r,b);"on"==e._opacity?e.textMove(f-1):e.textMove(f)}else b.find(".feed-scrollbar").hide(),q.removeClass("showBtn"),u.removeClass("showBtn")}c.fn.carousel=function(a){this.each(function(){b.call(this,a)});return this}})(jQuery);var TT_NS=TT_NS||{},domain=TT_CONFIG.userUrl+"/",winUrl=window.location.href,TT_NS=function(c,b){c.config={urlCDN:"http://img.tomtop-cdn.com",url2000:"http://img.tomtop-cdn.com/product/xy/2000/2000/",url560:"http://img.tomtop-cdn.com/product/xy/560/560/",url500:"http://img.tomtop-cdn.com/product/xy/500/500/",url60:"http://img.tomtop-cdn.com/product/xy/60/60/",webUrl:"http://static.tomtop-cdn.com/tomtop/"};c.init=function(){c.dialog.globalCloseDialog();c.dialog.operationDialog();c.UI.defaultSelect();c.change.aid();c.ready.init();c.lowerVersion.init();c.NAV.init();c.TT_AD_TOP.init()};c.NAV={init:function(){b(".pu_classifyNavWarp").menuAim({activate:this.activateSubmenu,deactivate:this.deactivateSubmenu,exitMenu:function(){return!0}});b(".subSecond").menuAim({rowSelector:"\x3e a",activate:function(a){var c=b(a).index();b(a).parent(".subSecond").siblings(".subThird").removeClass("thirdBlock");b(a).parent(".subSecond").siblings(".subThird").eq(c).addClass("thirdBlock");b(a).addClass("subSecondAci");b(a).siblings().removeClass("subSecondAci")},exitMenu:function(){return!0}})},activateSubmenu:function(a){a=b(a);a.find(".submenu").css({display:"block"});a.find(".sidelistA").addClass("maintainHover")},deactivateSubmenu:function(a){a=b(a);a.find(".submenu").css({display:"none"});a.find(".sidelistA").removeClass("maintainHover")}};c.cookie={get:function(a){a=document.cookie.match(new RegExp("(^| )"+a+"\x3d([^;]*)(;|$)"));return null!=a?unescape(a[2]):null},set:function(a,b){var c=new Date;c.setTime(c.getTime()+31536E6);document.cookie=a+"\x3d"+encodeURIComponent(b)+";domain\x3d.tomtop.com;expires\x3d"+c.toGMTString()+";path\x3d/";return!0},del:function(a){var b=new Date;b.setTime(b.getTime()-1);var c=this.get(a);null!=c&&(document.cookie=a+"\x3d"+c+";domain\x3d.tomtop.com;expires\x3d"+b.toGMTString()+";path\x3d/")},temp:function(a,b){document.cookie=a+"\x3d"+encodeURIComponent("["+b+"]")+";domain\x3d.tomtop.com;path\x3d/";return!0}};c.tool={isNull:function(a){var b;if(""===a||0===a||"0"===a||null===a||!1===a||"undefined"===typeof a)return!0;if("object"==typeof a){for(b in a)return!1;return!0}return!1}};c.price={"switch":function(a,b){return"JPY"==c.cookie.get("TT_CURR")?Math.round(a*b):(Math.round(a*b*100)/100).toFixed(2)}};c.lang={getId:function(a){var b={es:2,ru:3,de:4,fr:5,it:6,jp:7,pt:8};a=a.toLowerCase();return void 0===b[a]?1:b[a]},getLangForKey:function(a,b){var d;d=strFun("L")[TT_CONFIG.langPrefix+"."+a];c.tool.isNull(d)&&(d=TT_CONFIG.langPrefix+"."+a);return d}};c.lactions={lang:function(){var a=window.location.href,b=/\/es\/|\/ru\/|\/de\/|\/fr\/|\/it\/|\/pl\/|\/jp\/|\/pt\/|\/en\//,b=b.test(a);return 1==b?(b=a.split("/"),"\x26lang\x3d"+b[3]):""},langShort:function(){var a=window.location.href,b=/\/es\/|\/ru\/|\/de\/|\/fr\/|\/it\/|\/pl\/|\/jp\/|\/pt\/|\/en\//,b=b.test(a);return 1==b?(b=a.split("/"),b[3]):""}};c.change={aid:function(){if(""!=request("aid")){var a=request("aid"),h=c.cookie.get("AID"),d=request("cr"),g=request("pid");a!=h&&b.ajax({url:"http://www.tomtop.com/affiliate/ajaxcookietime",timeout:1E4,type:"post",dataType:"json",data:{cr:d,pid:g,aid:a},success:function(a){}})}}};c.dialog={toastTime:{oToastTime:null,oCountdown:null},toast:function(a){var h=a||{};a=h.content||"There is no incoming message!";var d=h.countdown||!1,g=h.time||3;0==b("#bm_toast").length&&(h=b('\x3cdiv id\x3d"bm_toast"\x3e\x3ci\x3e\x3c/i\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e'),b("body").append(h));b("#bm_toast").find("i").text(g);b("#bm_toast").find("p").text(a);b("#bm_toast").animate({},function(){b("#bm_toast").addClass("show")});d?(b("#bm_toast i").css("display","block"),clearInterval(c.dialog.oCountdown),c.dialog.oCountdown=setInterval(function(){b("#bm_toast i").text(--g)},1E3)):b("#bm_toast i").css("display","none");clearTimeout(c.dialog.oToastTime);c.dialog.oToastTime=setTimeout(function(){b("#bm_toast").removeClass("show");clearInterval(c.dialog.oCountdown);clearInterval(c.dialog.oToastTime)},1E3*g)},openDialogBg:function(a){a=a||{};var c=b('\x3cdiv class\x3d"bm_dialogBg"\x3e\x3c/div\x3e');a.css&&c.css(a.css);b("body").append(c)},dialogBg:function(a,h){!1===a?b(".bm_dialogBg").last().remove():!0===a?c.dialog.openDialogBg(h):0==b(".bm_dialogBg").length?c.dialog.openDialogBg(h):b(".bm_dialogBg").last().remove()},callbackFn:{callback:!1,fn:function(){}},alert:function(a,h){var d=a||{},g=d.shake||!1,d=b('\x3cdiv class\x3d"bm_dialog alert dialog_show '+(d.addClass||"")+'"\x3e\x3ci\x3e\x3c/i\x3e\x3cdiv class\x3d"dialog_c"\x3e\x3cdiv class\x3d"dialog_body"\x3e'+(d.content||"\u6ca1\u6709\u5185\u5bb9")+'\x3c/div\x3e\x3cdiv class\x3d"dialog_foot"\x3e\x3cinput type\x3d"button" value\x3d"'+(d.btnText||"OK")+'" class\x3d"bm_btn confirm cancel" /\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');g&&d.addClass("shakeX");c.dialog.dialogBg(!0);b("body").append(d);c.dialog.callbackFn.callback=!1;h&&(c.dialog.callbackFn.callback=!0,c.dialog.callbackFn.fn=h)},confirm:function(a,h){var d=a||{},g=d.title||!1,l=d.shake||!1,d=b('\x3cdiv class\x3d"bm_dialog confirm dialog_show '+(d.addClass||"")+'"\x3e\x3ci\x3e\x3c/i\x3e\x3cdiv class\x3d"dialog_c"\x3e\x3cdiv class\x3d"dialog_head"\x3e'+g+'\x3c/div\x3e\x3cdiv class\x3d"dialog_body"\x3e'+(d.content||"\u6ca1\u6709\u5185\u5bb9")+'\x3c/div\x3e\x3cdiv class\x3d"dialog_foot clearfix"\x3e\x3cinput type\x3d"button" value\x3d"'+(d.btnTextA||"YES")+'" class\x3d"bm_btn_A minor cancel false" /\x3e\x3cinput type\x3d"button" value\x3d"'+(d.btnTextB||"OK")+'" class\x3d"bm_btn confirm true" /\x3e\x3c/div\x3e\x3c/div\x3e');g||d.find(".dialog_head").remove();l&&d.addClass("shakeX");c.dialog.dialogBg(!0);b("body").append(d);c.dialog.callbackFn.callback=!1;h&&(c.dialog.callbackFn.callback=!0,c.dialog.callbackFn.fn=h)},prompt:function(a,h){var d=a||{},g=d.title||!1,l=d.shake||!1,d=b('\x3cdiv class\x3d"bm_dialog prompt dialog_show '+(d.addClass||"")+'"\x3e\x3ci\x3e\x3c/i\x3e\x3cdiv class\x3d"dialog_c"\x3e\x3cdiv class\x3d"dialog_head"\x3e'+g+'\x3c/div\x3e\x3cdiv class\x3d"dialog_body"\x3e\x3ctextarea\x3e'+(d.content||"\u8bf7\u8f93\u5165...")+'\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog_foot"\x3e\x3cinput type\x3d"button" value\x3d"'+(d.btnText||"Submit")+'" class\x3d"bm_btn caution" /\x3e\x3c/div\x3e\x3ci class\x3d"icon_cross close close_dialog"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e');g||d.find(".dialog_head").remove();l&&d.addClass("shakeX");c.dialog.dialogBg(!0);b("body").append(d);c.dialog.callbackFn.callback=!1;h&&(c.dialog.callbackFn.callback=!0,c.dialog.callbackFn.fn=h)},custom:function(a,h){var d=a||{},d=b('\x3cdiv class\x3d"bm_dialog custom dialog_show '+(d.addClass||"")+'"\x3e\x3ci\x3e\x3c/i\x3e\x3cdiv class\x3d"dialog_c"\x3e'+(d.content||"\u8bf7\u8f93\u5165...")+'\x3ci class\x3d"icon_cross close close_dialog"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e');c.dialog.dialogBg(!0);b("body").append(d)},closeDialog:function(a){a.hasClass("alert")||a.hasClass("confirm")||a.hasClass("prompt")||a.hasClass("custom")?(a.remove(),c.dialog.callbackFn.fn(!1)):a.removeClass("dialog_show");c.dialog.dialogBg(!1)},globalCloseDialog:function(){b(document).on("click",".bm_dialog",function(){c.dialog.closeDialog(b(this))});b(document).on("click",".close_dialog",function(){var a=b(this).parents(".bm_dialog");c.dialog.closeDialog(a)});b(document).on("click",".dialog_c",function(a){a.stopPropagation()});b(document).on("click",".bm_dialogBg",function(){b(".hide_l,.hide_t,.hide_r,.hide_b").removeClass("show");c.dialog.dialogBg(!1)});b(document).on("click",".close_show",function(){b(".hide_l,.hide_t,.hide_r,.hide_b").removeClass("show");c.dialog.dialogBg(!1)})},operationDialog:function(){b(document).on("click",".alert .dialog_foot .bm_btn",function(){b(this).parents(".bm_dialog").remove();c.dialog.dialogBg(!1);c.dialog.callbackFn.callback&&c.dialog.callbackFn.fn(!0)});b(document).on("click",".bm_dialog .true",function(){b(this).parents(".bm_dialog").remove();c.dialog.dialogBg(!1);c.dialog.callbackFn.callback&&c.dialog.callbackFn.fn(!0)});b(document).on("click",".bm_dialog .false",function(){b(this).parents(".bm_dialog").remove();c.dialog.dialogBg(!1);c.dialog.callbackFn.callback&&c.dialog.callbackFn.fn(!1)});b(document).on("click",".prompt .dialog_foot .bm_btn",function(){b(this).parents(".bm_dialog").remove();c.dialog.dialogBg(!1);var a=b(this).parents(".bm_dialog").find("textarea").val();c.dialog.callbackFn.callback&&c.dialog.callbackFn.fn(a)})}};c.oprationClass={radioClass:function(a,b,c){a.not(b).removeClass(c);b.addClass(c)},switchClass:function(a,b,c){arguments.length=3;a.hasClass(classA)?a.removeClass(classA).addClass(classB):a.removeClass(classB).addClass(classA)}};c.UI={defaultSelect:function(){b(window).width();b(document).on("click",".select_val,.select_handle",function(){b(this).parents(".select_wrap").hasClass("disabled")||b(this).parent().find(".option_list").show()});b(document).on("click",".option_list li",function(){var a=b(this).text(),c=b(this).attr("data-value");b(this).parent().parent().find(".hobby_birthday").val(a);b(this).parents(".select_wrap").find(".select_val").text(a).attr("data-value",c);b(this).parents(".select_wrap").find(".option_list").hide()});b(document).on("mouseleave",".select_wrap",function(){b(this).find(".option_list").hide()});return this}};c.ready={init:function(){this.addAid();this.addVisit();this.shipTo()},addAid:function(){if(1==b("#logout").length){var a=b("#logout").attr("aid");""!=a&&-1==winUrl.indexOf("?aid")&&-1==winUrl.indexOf("\x26aid")&&(-1==winUrl.indexOf("?")?window.history.replaceState(null,null,winUrl+"?aid\x3d"+a):window.history.replaceState(null,null,winUrl+"\x26aid\x3d"+a))}},addVisit:function(){var a=c.cookie.get("AID")&&""==request("aid")?c.cookie.get("AID"):""!=request("aid")?request("aid"):"";b.ajax({type:"GET",url:"/site/visit",data:{aid:a,url:window.location.href},dataType:"json",success:function(a){}})},shipTo:function(){b.ajax({type:"GET",cache:!1,url:"/site/shipto",dataType:"json",success:function(a){if(1==a.ret){var c=b(".all_country").eq(0).children("."+a.code).children("em").text();b("#current_country_flage").removeClass().addClass(a.code).attr("data-code",a.code);b(".m_pullDown_country .result").removeClass().addClass("result "+a.code);b(".tt_currency").val(a.currency);b(".tt_country").val(a.code);"CN"==a.code?(b(".tt_ns_shipping_to").find(".flag_Txt").text("China"),b(".country_txt").text("China"),b(".m_pullDown_country .result em").text("China")):(b(".tt_ns_shipping_to").find(".flag_Txt").text(c),b(".country_txt").text(c),b(".m_pullDown_country .result em").text(c))}}})}};c.lowerVersion={init:function(){this.fnBrowserV(function(a){a&&(a=b('\x3cdiv class\x3d"dialogs dialogs_show"\x3e\x3ci\x3e\x3c/i\x3e\x3cspan class\x3d"dialogs_c iev"\x3e\x3cp\x3eYour browser is an expired version, please update it  to view this page.\x3c/p\x3e\x3ci class\x3d"close_dialogs"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e'),b("body").append(a),fnDialogsBg())})},fnBrowserV:function(a){if(-1!==window.navigator.userAgent.indexOf("IE")){var b=navigator.appName,c=navigator.appVersion.split(";")[1].replace(/[ ]/g,"");"Microsoft Internet Explorer"==b&&"MSIE4.0"==c?a(!0):"Microsoft Internet Explorer"==b&&"MSIE5.0"==c?a(!0):"Microsoft Internet Explorer"==b&&"MSIE6.0"==c?a(!0):"Microsoft Internet Explorer"==b&&"MSIE7.0"==c?a(!0):"Microsoft Internet Explorer"==b&&"MSIE8.0"==c?a(!1):"Microsoft Internet Explorer"==b&&"MSIE9.0"==c?a(!1):"Microsoft Internet Explorer"==b&&"MSIE10.0"==c&&a(!1)}}};c.TT_AD_TOP={adCookie:"",init:function(){this.showTopAD("#close_topad");this.closeTopAd()},setCookie:function(a,b,c){c=c||7;var d=new Date;d.setDate(d.getDate()+c);document.cookie=a+"\x3d"+b+"; expires \x3d"+d},closeTopAd:function(){var a=this;b("#close_topad").click(function(){a.adCookie=b(this).parent().find("img").attr("alt");a.setCookie("topAD",a.adCookie,1);b(this).parent().hide()})},showTopAD:function(a){this.adCookie=b(a).parent().find("img").attr("alt");c.cookie.get("topAD")==this.adCookie?b(a).parent().hide():b(a).parent().show()}};c.base64={base64Encode:function(a){a=encodeURIComponent(a);a=unescape(a);return a=window.btoa(a)},base64Decode:function(a){a=window.atob(a);a=escape(a);return a=decodeURIComponent(a)}};return c}(window.TT_NS||{},jQuery);TT_NS.init();var EventHide={popCurrAndCountry:function(){$(".m_shipto_wrap .country_pop,.m_shipto_wrap .currency_pop").hide();$(".pu_blockWarp_click").hide();$(".pu_navHover_click").removeClass("active")},popCategory:function(){$(".select_sort_part .sort_pop").hide()}},playLang="en es ru de fr it jp pt".split(" "),jsLanguage="en";$.each(playLang,function(c,b){b==TT_NS.cookie.get("PLAY_LANG")&&(jsLanguage=TT_NS.cookie.get("PLAY_LANG"))});function request(c){var b=location.href,b=b.substring(b.indexOf("?")+1,b.length).split("\x26"),a={};for(i=0;j=b[i];i++)a[j.substring(0,j.indexOf("\x3d")).toLowerCase()]=j.substring(j.indexOf("\x3d")+1,j.length);c=a[c.toLowerCase()];return"undefined"==typeof c?"":c}function unique(c){var b=[],a;for(a in c)-1==b.indexOf(c[a])&&b.push(c[a]);return b}function switchPrice(c,b){return"JPY"==TT_NS.cookie.get("TT_CURR")?Math.round(c*b):(Math.round(c*b*100)/100).toFixed(2)}function switchCurrency(c){var b=0,a=currencyRate[c],h=currencyLabel[c];TT_NS.cookie.del("TT_CURR");TT_NS.cookie.set("TT_CURR",c);$(".pricelab").each(function(){b=$(this).attr("usvalue");if(""!=b)if(getCookie("TT_CURR"),$(this).hasClass("price")){var c=switchPrice(b,a);$(this).html(c)}else c=switchPrice(b,a),$(this).html(h+c)});$(".symbolLab").html(h);0<$("#fBox_Box").length&&TT_NS.featured.prices();0<$("#RecommendedItems").length&&TT_NS.featured.fixedPrice()}function trim(c){return c.replace(/(^\s*)|(\s*$)/g,"")}function parseJSON(c){if("string"!==typeof c||!c)return null;c=jQuery.trim(c);if(window.JSON&&window.JSON.parse)return window.JSON.parse(c);if(rvalidchars.test(c.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,"")))return(new Function("return "+c))();OpPopAlert("Invalid JSON: "+c)}function ajaxLang(c){if(""==request("lang")&&""==request("currency"))c=domain+c;else{var b=request("lang"),a=request("currency");c=domain+c+"\x26lang\x3d"+b+"\x26currency\x3d"+a}return c}function IsNum(c){var b=window.event?c.keyCode:c.which;48<=b&&57>=b||8==b||0==b||(window.event?window.event.returnValue=!1:c.preventDefault())}function changeURLArg(c,b,a){a=b+"\x3d"+a;return c.match(b+"\x3d([^\x26]*)")?c.replace(eval("/("+b+"\x3d)([^\x26]*)/gi"),a):c.match("[?]")?c+"\x26"+a:c+"?"+a}function strFun(c){return(new Function("return "+c))()}$(function(){try{$("img.lazy").lazyload()}catch(c){}});$(function(){$(".search_hot").on("click",".clickMore",function(){$(this).parents(".search_hot").find(".hide").removeClass("hide").addClass("show");$(this).removeClass("show").addClass("hide")});$(".search_hot").on("click",".clickLess",function(){$(this).parents(".search_hot").find(".show").removeClass("show").addClass("hide");$(this).parents(".search_hot").find(".clickMore").removeClass("hide").addClass("show");$(this).removeClass("show").addClass("hide")});$(".search_wrap .bm_option .result").on("click",function(){$(this).siblings(".option_list").toggle();$("#searchThink").remove();$(".m_search_help").hide()});$(".option_list a").on("click",function(c){var b=$(this).html(),a=$(this).attr("cpath");$(this).parents(".search_wrap").find(".result em").html(b);$(this).parents(".search_wrap").find(".result em").attr("data-path",a);$(this).addClass("cur").siblings().removeClass("cur");$(this).parents(".option_list").hide();var b=$(".search_wrap").width(),a=$(".m_search_box .bm_option").width(),h=$(".search_btn").width(),h=b-a-h;$(".m_search_box input").css({width:h});$(".m_search_help").css({left:a,width:b-a});c.stopPropagation()});$(document).on("click",function(){$(".search_wrap .option_list").hide()});$(".search_wrap").on("click",function(c){EventHide.popCurrAndCountry();c.stopPropagation()})});$(function(){function c(){var a=TT_NS.lactions.langShort();return""==a?"":a+"/"}function b(){return $(".search_wrap .bm_option .result em").data("path")}function a(a){a=a.replace(/\`|\~|\!|\@|\#|\$|\%|\^|\(|\)|\_|\=|\||\;|\:|\<|\>|\?|\//g," ");a=a.replace(/^\s*|\s*$/g,"");a=a.replace(/\s+|\/+|\\+/g,"-");return a=a.replace(/-+/g,"-")}function h(a,b,c){""!=c&&""!=b?window.location.href=TT_CONFIG.mainUrl+"/search/"+b+".html?cpath\x3d"+c:""!=b&&(window.location.href=TT_CONFIG.mainUrl+"/search/"+b+".html")}function d(){return TT_NS.cookie.get("TT_SEARCH_HISTORY").split("|")}function g(){$("#searchThink").remove();if(TT_NS.cookie.get("TT_SEARCH_HISTORY")){$(".m_search_help,#recent_search").show();var n=d();$("#search_guess").show().html("");$.each(n,function(a,b){$("#search_guess").append("\x3cli\x3e\x3cstrong\x3e"+decodeURIComponent(b)+'\x3c/strong\x3e\x3ci class\x3d"icon_cross"\x3e\x3c/i\x3e\x3c/li\x3e')});$("#search_guess li strong").click(function(){var d=$(this).text(),n=c(),d=a(d),f=d.replace(/-/g," "),g=b();e.val(f);h(n,d,g)})}}var l=$(".search_wrap").children(".search_btn"),r=$(".search_wrap").width(),v=$(".m_search_box .bm_option").width(),f=$(".search_btn").width(),f=r-v-f;$(".m_search_box input").css({width:f});$(".m_search_help").css({left:v,width:r-v});$(".clear_hiss").click(function(){TT_NS.cookie.del("TT_SEARCH_HISTORY");$("#recent_search,.m_search_help").hide();$("#search_guess").html("")});$("#search_guess").on("click",".icon_cross",function(){$(this).parent("li").remove();for(var a=$(this).siblings("strong").text(),b=d(),c=0;c<b.length;c++)if(b[c]==a){b.splice(c,1);break}a=b.join("|");TT_NS.cookie.set("TT_SEARCH_HISTORY",encodeURI(a))});l.click(function(){var d=$.trim($(".search_wrap").children("input[type\x3d'text']").val()),e=c(),f=a(d),g=b();""!=d?h(e,f,g):$(".search_wrap").children("input[type\x3d'text']").focus()});var e=$(".search_wrap").children("input[type\x3d'text']"),k;(function(){$(document).on("input propertychange",".search_wrap input[type\x3d'text']",function(){$(".m_search_help").hide();if(""!=$('.search_wrap input[type\x3d"text"]').val()){""!=$('.search_wrap input[type\x3d"text"]').val()&&0==$("#searchThink").length&&$(".m_search_help").append("\x3cul id\x3d'searchThink'\x3e\x3c/ul\x3e");var d=$.trim($(this).val()),f=a(d),l=$(".search_wrap .bm_option .result em").attr("data-cid");clearTimeout(k);k=setTimeout(function(){$.ajax({url:TT_CONFIG.mainUrl2+"/index.php?r\x3dsearch/default/ajaxkeyauto\x26keyword\x3d"+f+"\x26categoryid\x3d"+l+TT_NS.lactions.lang(),timeout:1E4,type:"get",cache:!1,dataType:"html",success:function(d){""!=d?($(".m_search_help").show(),$("#searchThink").show().html(d),$("#searchThink li").click(function(){var d=$(this).text(),f=c(),d=a(d),g=d.replace(/-/g," "),n=b();e.val(g);h(f,d,n)})):$("#searchThink").hide()}})},300)}else $("#searchThink").hide(),g()})})();e.focus(function(){""!=$('.search_wrap input[type\x3d"text"]').val()&&0==$("#searchThink").length&&$(".m_search_help").append("\x3cul id\x3d'searchThink'\x3e\x3c/ul\x3e");$(".search_wrap .option_list").hide();var d=e.val().toLowerCase(),d=a(d),f=$(".search_wrap .bm_option .result em").attr("data-cid");$(".m_search_help").hide();""!=$('.search_wrap input[type\x3d"text"]').val()?($("#recent_search").hide(),$.ajax({url:TT_CONFIG.mainUrl2+"/index.php?r\x3dsearch/default/ajaxkeyauto\x26keyword\x3d"+d+"\x26categoryid\x3d"+f+TT_NS.lactions.lang(),timeout:1E4,type:"get",cache:!1,dataType:"html",success:function(d){""!=d?($(".m_search_help").show(),$("#searchThink").show().html(d),$("#searchThink li").click(function(){var d=$(this).text(),f=c(),d=a(d),g=d.replace(/-/g," "),n=b();e.val(g);h(f,d,n)})):$("#searchThink").hide()}})):g()});e.click(function(a){EventHide.popCurrAndCountry();EventHide.popCategory();a.stopPropagation()});$("body").click(function(){$("#searchThink,.m_search_help").hide();$("#searchThink").remove()});e.keyup(function(a){""!=$('.search_wrap input[type\x3d"text"]').val()?$("#recent_search").hide():($("#searchThink").hide(),$(".m_search_help,#recent_search").show());$this=$("#searchThink");if(!$this.is(":hidden")){a=a.keyCode;if(38==a||33==a){1==$this.find("li:first.active").length||0==$this.find("li.active").length?$this.children().removeClass("active").last().addClass("active"):$this.find("li.active").removeClass("active").prev().addClass("active");var b=$this.find("li.active").html().replace(/<u>(.*)<\/u>/ig,""),b=b.replace(/(<[a-z0-9\/]+>)+/ig,"");$(this).val(b)}if(40==a||34==a)1==$this.find("li:last.active").length||0==$this.find("li.active").length?$this.children().removeClass("active").first().addClass("active"):$this.find("li.active").removeClass("active").next().addClass("active"),b=$this.find("li.active").html().replace(/<u>(.*)<\/u>/ig,""),b=b.replace(/(<[a-z0-9\/]+>)+/ig,""),$(this).val(b)}});e.keypress(function(d){if(13==d.which){d=e.val().toLowerCase();var f=c(),g=a(d),k=b();""!=d?h(f,g,k):$(".search_wrap").children("input[type\x3d'text']").focus();return!1}});(function(){$(document).on("click",".m_privacy_statement .icon_cross,.m_privacy_statement .bm_btn_A.minor",function(){$(".m_privacy_statement").css("display","none")});TT_NS.cookie.get("GDPR_dialog_show")||$.ajax({type:"GET",cache:!1,url:domain+"/site/get-country-for-ip",dataType:"json",success:function(a){1==a.status&&(TT_NS.arr.isInArray("AT BE BG HR CY CZ DK EE FI FR DE GR HU IE IT LV LT LU MT NL PL PT RO SK SI ES SE GB".split(" "),res.data.code)?(TT_NS.cookie.set("GDPR_dialog_show","1"),TT_NS.cookie.get("GDPR_dialog")?$(".m_privacy_statement").css({display:"none"}):($(".m_privacy_statement").css({display:"block"}),TT_NS.cookie.set("GDPR_dialog","1"))):TT_NS.cookie.del("GDPR_dialog_show"))}})})()});var TT_share={init:function(){_this=this;$(document).on("click",".m_share_icon i",function(){var c=$(this).parent(".m_share_icon").data("url");_this.execute($(this).data("name"),c)})},execute:function(c,b){b=escape(b);window.open("https://api.addthis.com/oexchange/0.8/forward/"+c+"/offer?url\x3d"+b+"\x26pubid\x3dra-5688799e3f7e90e3\x26ct\x3d1\x26title\x3d\x26pco\x3dtbxnj-1.0","height\x3d500px, width\x3d750px, top\x3d150px, left\x3d250px, toolbar\x3dno, menubar\x3dno, scrollbars\x3dno, resizable\x3dno,location\x3dno, status\x3dno")}},shareThis={init:function(){this.shareFB()},shareFB:function(){$(document).on("click",".m_custom_share .shareTofacebook",function(){var c=$(this).attr("data-url"),b=$(this).attr("data-sharedesc")||$(this).attr("data-title"),a="",h="";if(b){var d=b.split("####");1<d.length?(h=d[1],a=d[0]):h=b}console.log(a);FB.ui({method:"share",display:"popup",quote:h,hashtag:a,href:c})})}},groupAjax={init:function(){this.ajax()},ajax:function(){$.ajax({url:"/order/group?orderType\x3d50",type:"get",dataType:"html",success:function(c){c&&$("#page_list_container li.page_cur").html(c)}})}};$(function(){TT_share.init();shareThis.init();0<$(".group_order_container").size()&&groupAjax.init()});