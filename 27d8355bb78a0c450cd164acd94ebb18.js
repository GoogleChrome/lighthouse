!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.CloudAppClipboard=t()}(this,function(){"use strict";var n=window.location.hostname,e=["mail.google.com","gmail.com"],t=["outreach.io","zendesk.com","helpscout.net"],r=null,o=function(){(0<=e.indexOf(n)||0<=t.indexOf(function(e,t){var t=t||!1,e=e.replace(/(https?:\/\/)?(www.)?/i,"");t||(e=(e=e.split(".")).slice(e.length-2).join("."));if(-1!==e.indexOf("/"))return e.split("/")[0];return e}(n)))&&(this.validElement(),this.clipboardRoutine())};function i(e){0<=n.indexOf("mail.google.com")||0<=n.indexOf("gmail.com")?r=c(e.target,"aria-label","Message Body"):0<=n.indexOf("outreach.io")?r=c(e.target,"class","ql-editor"):0<=n.indexOf("zendesk.com")?r=c(e.target,"class","editor zendesk-editor--rich-text-comment"):0<=n.indexOf("helpscout.net")&&(r=c(e.target,"class","redactor_redactor redactor_editor"))}function a(e){if(o=e,new RegExp("^((https?:)?\\/\\/)?(?:\\S+(?::\\S*)?@)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(o)&&-1<e.indexOf("https://cl.ly/")){if(null!==r){if(0<=n.indexOf("zendesk.com"))var t='<p><a href="'+e+'" target="_blank"><img src="https://dxc4e0vr313yq.cloudfront.net/production/t/'+d(e)+'/h200" border="0" /></a></div><br />View here: <a href="'+e+'" target="_blank">'+e+"</a></p>";else{t='<div><a href="'+e+'" target="_blank"><img src="https://dxc4e0vr313yq.cloudfront.net/production/t/'+d(e)+'/h200" border="0" /></a></div><div>View here: <a href="'+e+'" target="_blank">'+e+"</a></div>";0<=n.indexOf("outreach.io")?t+="<br/>":t+="<br/><br/>"}return t}return!1}return!1;var o}function c(e,t,o){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=t.length;0<=--o&&t.item(o)!==this;);return-1<o});e&&e!==document;e=e.parentNode)if(e.getAttribute(t)==o)return e;return null}function d(e){var t=e.split("/");return t.pop()||t.pop()}return o.prototype.clipboardRoutine=function(){document.addEventListener("paste",function(e){if(e.clipboardData)(t=a((e.originalEvent||e).clipboardData.getData("text/plain")))&&(e.preventDefault(),document.execCommand("insertHTML",!0,t));else if(window.clipboardData){var t;(t=a(window.clipboardData.getData("Text")))&&(e.preventDefault(),document.selection.createRange().pasteHTML(t))}})},o.prototype.validElement=function(){document.addEventListener("click",function(e){i(e)},!0),document.addEventListener("blur",function(e){i(e)},!0)},o}),new CloudAppClipboard;